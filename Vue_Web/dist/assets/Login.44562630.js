import{d as h,r as m,a as w,u as A,o as y,c as E,w as s,b as o,e as l,f as S,g as N,E as b,h as a,_ as B,i as T,p as R,j as q}from"./index.90c38c7f.js";import{l as G}from"./login.b9a54c7f.js";import"./request.2fe64003.js";const $="/assets/side-logo.4f6cfdbd.png",j="/assets/logo2.57506859.png",z=h({__name:"LoginForm",setup(u){const f=N(),_=m(),r=m("password"),i=m(!1),C=w({password:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"}],username:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"}]}),n=w({username:"admin",password:"Demo.com@0"}),V=()=>{r.value=r.value==="password"?"":"password"},g=A(),k=d=>{!d||d.validate(async t=>{if(t){i.value=!0;const{data:e}=await G({...n});e.code===200?(g.setToken(e.result.Authorization),g.setUserInfo({username:e.result.username,phone:e.result.phone,email:e.result.email,sex:e.result.sex,avatar:e.result.avatar,createTime:e.result.created_at,role:e.result.role}),await f.push({path:"/index"}),b({title:"\u767B\u5F55\u6210\u529F",message:"\u6B22\u8FCE\u767B\u5F55",type:"success",duration:3e3})):(b({title:"\u6E29\u99A8\u63D0\u793A",message:e.message,type:"error",duration:3e3}),i.value=!1)}else return console.log("error submit!"),i.value=!1,!1})};return(d,t)=>{const e=a("UserFilled"),v=a("el-icon"),F=a("el-input"),p=a("el-form-item"),D=a("GoodsFilled"),I=a("svg-icon"),L=a("el-button"),U=a("el-form");return y(),E(U,{ref_key:"ruleFormRef",ref:_,model:n,rules:C},{default:s(()=>[o(p,{label:"",prop:"username"},{default:s(()=>[o(F,{placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",autoComplete:"on",style:{position:"relative"},modelValue:n.username,"onUpdate:modelValue":t[0]||(t[0]=c=>n.username=c)},{prefix:s(()=>[o(v,{class:"el-input__icon"},{default:s(()=>[o(e)]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(p,{label:"",prop:"password"},{default:s(()=>[o(F,{placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",autoComplete:"on",modelValue:n.password,"onUpdate:modelValue":t[1]||(t[1]=c=>n.password=c),type:r.value},{prefix:s(()=>[o(v,{class:"el-input__icon"},{default:s(()=>[o(D)]),_:1})]),suffix:s(()=>[l("div",{class:"show-pwd",onClick:V},[o(I,{"icon-class":r.value==="password"?"eye":"eye-open"},null,8,["icon-class"])])]),_:1},8,["modelValue","type"])]),_:1}),o(p,{style:{width:"100%"}},{default:s(()=>[o(L,{loading:i.value,class:"login-btn",type:"success",onClick:t[2]||(t[2]=c=>k(_.value))},{default:s(()=>[S("\u767B\u5F55")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])}}});const P=B(z,[["__scopeId","data-v-981ce99c"]]),x=u=>(R("data-v-f4e8b67b"),u=u(),q(),u),H={class:"login-container"},J={class:"login-box"},K=x(()=>l("div",{class:"login-left"},[l("img",{src:$})],-1)),M={class:"login-form"},O=x(()=>l("div",{class:"login-title"},[l("img",{class:"icon",src:j}),l("h2",{class:"title"},"\u98DF\u8C31\u83DC\u5355\u7BA1\u7406\u7CFB\u7EDF")],-1)),Q=h({__name:"Login",setup(u){return(f,_)=>(y(),T("div",H,[l("div",J,[K,l("div",M,[O,o(P)])])]))}});const Z=B(Q,[["__scopeId","data-v-f4e8b67b"]]);export{Z as default};
